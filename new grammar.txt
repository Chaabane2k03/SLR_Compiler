program : listdeclnonnull maindecl
        | maindecl
        ;

listdecl : listdeclnonnull
         | 
         ;

listdeclnonnull : vardecl
               | listdeclnonnull vardecl
               ;

vardecl : type listtypedecl TOK_SEMICOL
        ;

type : TOK_INT
     | TOK_BOOL
     | TOK_VOID
     ;

listtypedecl : decl
            | listtypedecl TOK_COMMA decl
            ;

decl : ident
     | ident TOK_AFFECT expr
     ;

maindecl : type ident TOK_LPAR TOK_RPAR block
         ;

listinst : listinstnonnull
         | 
         ;

listinstnonnull : inst
               | listinstnonnull inst
               ;

inst : expr TOK_SEMICOL
     | TOK_IF TOK_LPAR expr TOK_RPAR inst TOK_ELSE inst
     | TOK_IF TOK_LPAR expr TOK_RPAR inst
     | TOK_WHILE TOK_LPAR expr TOK_RPAR inst
     | TOK_FOR TOK_LPAR expr TOK_SEMICOL expr TOK_SEMICOL expr TOK_RPAR inst
     | TOK_DO inst TOK_WHILE TOK_LPAR expr TOK_RPAR TOK_SEMICOL
     | block
     | TOK_SEMICOL
     | TOK_PRINT TOK_LPAR listparamprint TOK_RPAR TOK_SEMICOL
     ;

block : TOK_LACC listdecl listinst TOK_RACC
      ;

expr : expr TOK_MUL expr
     | expr TOK_DIV expr
     | expr TOK_PLUS expr
     | expr TOK_MINUS expr
     | expr TOK_MOD expr
     | expr TOK_LT expr
     | expr TOK_GT expr
     | TOK_MINUS expr
     | expr TOK_GE expr
     | expr TOK_LE expr
     | expr TOK_EQ expr
     | expr TOK_NE expr
     | expr TOK_AND expr
     | expr TOK_OR expr
     | expr TOK_BAND expr
     | expr TOK_BOR expr
     | expr TOK_BXOR expr
     | expr TOK_SRL expr
     | expr TOK_SRA expr
     | expr TOK_SLL expr
     | TOK_NOT expr
     | TOK_BNOT expr
     | TOK_LPAR expr TOK_RPAR
     | ident TOK_AFFECT expr
     | TOK_INTVAL
     | TOK_TRUE
     | TOK_FALSE
     | ident
     ;

listparamprint : listparamprint TOK_COMMA paramprint
              | paramprint
              ;

paramprint : ident
           | TOK_STRING
           ;

ident : TOK_IDENT
      ;
